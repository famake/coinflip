server {
    listen 80 default_server;
    server_name _;

    # Root for static assets
    root /usr/share/nginx/html;
    index index.html;

    # Serve main app files with short caching (allow quick iteration)
    location = /index.html { add_header Cache-Control "no-cache"; }
    location = /app.js { add_header Cache-Control "no-cache"; }
    location = /styles.css { add_header Cache-Control "no-cache"; }

    # Static coin images with longer caching; allow common image extensions
    location /coin-images/ {
        autoindex off;
        add_header Cache-Control "public, max-age=86400"; # 1 day
        try_files $uri =404;
    }

    # Fallback: return 404 for anything not found
    location / {
        try_files $uri $uri/ =404;
    }

    # Simple CORS for images if needed
    add_header Access-Control-Allow-Origin "*" always;
}
